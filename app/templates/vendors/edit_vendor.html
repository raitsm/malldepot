{% extends "vendors/vendor_form.html" %}


{% block priority_fields %}

    {% if delete_error %}
        <div class="alert alert-danger" role="alert">
            An error occurred during the deletion process.
        </div>
    {% endif %}


{% endblock %}


{% block vendor_additional_fields %}

{% endblock %}

{% block vendor_additional_buttons %}
    <button type="button" class="btn btn-sm btn-danger ms-2 mt-2" onclick="confirmDeleteVendor({{ vendor_id }})">Delete</button>

{% endblock %}

{% block additional_scripts %}

<script>
    function confirmDeleteVendor(vendorId) {
        if(confirm('Are you sure you want to delete this vendor?')) {
            var deleteUrl = "{{ url_for('vendors.delete_vendor', vendor_id=0) }}".replace('0', vendorId);
            window.location.href = deleteUrl;
        }
    }
</script>

{% if request.args.get('error') %}
<script type="text/javascript">
    window.onload = function() {
        // Safely output the error using Jinja's 'tojson' filter
    alert({{ request.args.get('error') | tojson }});    };
</script>
{% endif %}


{% endblock %}
